<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>
      
        
          My js1k submission: Flurry - Zolmeister - by Zoli Kahan
        
      
    </title>
    <meta name="description" content="Zolmeister - Blog - by Zoli Kahan" />
    <link href='http://zolmeister.com/favicon.ico' rel='icon' type='image/x-icon'/>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Zolmeister - Atom" href="http://www.zolmeister.com/feeds/posts/default" />
    <link rel="alternate" type="application/rss+xml" title="Zolmeister - RSS" href="http://www.zolmeister.com/feeds/posts/default?alt=rss" />

</head>
<body class="home-template">


    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="/">
                
                    <span class="blog-title">Zolmeister</span>
                
            </a>
        </header>

        <span class="post-meta">
        	<time datetime="2013-02-19">19 Feb 2013</time>
        	<!--
        		on
	        	
	        -->
       	</span>

        <h1 class="post-title"><a href="">My js1k submission: Flurry</a></h1>

        <section class="post-content">
            <p>App:&nbsp;<a href="http://js1k.com/2013-spring/demo/1345">Flurry</a></p>

<p>In my <a href="http://www.zolmeister.com/2012/06/javascript-golfing.html">second blog post</a>&nbsp;I wrote about javascript golfing, and how it is a great way to entertain yourself and learn some cool tricks along the way. With <a href="http://js1k.com/2013-spring/">js1k</a>&nbsp;underway (you can submit till Match 31st), I have decided to write about my submission, Flurry. Now originally it was going to use both the <a href="https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode">Full Screen API</a>, as well as the <a href="https://developer.mozilla.org/en-US/docs/API/Pointer_Lock_API">Pointer Lock API</a>&nbsp;(Mozilla misspelled their call with a capital S in screen), however after submitting it turned out that webkit blocks (be default) the fullscreen/pointerlock from within a frame (which is how js1k hosts submissions). I was&nbsp;disappointed&nbsp;but moved on to a variant that didn&#39;t use those calls.</p>

<p>The final code came in at 1023 bytes, here is the original&nbsp;uncompressed&nbsp;source (4.8 kB):</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">     <span class="cm">/*</span>
<span class="cm"> * By: Zolmeister</span>
<span class="cm"> * http://zolmeister.com</span>
<span class="cm"> */</span>
<span class="nx">mouseX</span> <span class="o">=</span> <span class="nx">mouseY</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">flowers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1">// Z</span>
<span class="nx">letter</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[.</span><span class="mi">3579</span><span class="p">,</span> <span class="p">.</span><span class="mi">1628</span><span class="p">],</span>
  <span class="p">[.</span><span class="mi">6421</span><span class="p">,</span> <span class="p">.</span><span class="mi">1599</span><span class="p">],</span>
  <span class="p">[.</span><span class="mi">3512</span><span class="p">,</span> <span class="p">.</span><span class="mi">7326</span><span class="p">],</span>
  <span class="p">[.</span><span class="mi">6488</span><span class="p">,</span> <span class="p">.</span><span class="mi">7297</span><span class="p">]</span>
<span class="p">]</span>
<span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mouseX</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span>
  <span class="nx">mouseY</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span>
<span class="p">}</span>
<span class="nx">cHi</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">innerHeight</span> <span class="o">-</span> <span class="mi">21</span>
<span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">mouseX</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">cWid</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">innerWidth</span> <span class="o">-</span> <span class="mi">21</span>
    <span class="c1">//with with is with</span>
    <span class="kd">with</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">with</span><span class="p">(</span><span class="nb">Math</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">rand</span> <span class="o">=</span> <span class="nx">random</span>
        <span class="c1">//Align text so that it rotates cleanly</span>
        <span class="nx">textBaseline</span> <span class="o">=</span> <span class="s1">&#39;middle&#39;</span>
        <span class="nx">textAlign</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span>
        <span class="nx">shadowColor</span> <span class="o">=</span> <span class="s1">&#39;#222&#39;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">rand</span><span class="p">()</span> <span class="o">&gt;</span><span class="p">.</span><span class="mi">6</span> <span class="o">&amp;</span> <span class="nx">flowers</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">//spawn flower</span>
          <span class="nx">flow</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">27</span> <span class="o">+</span> <span class="mi">10025</span>
          <span class="nx">dir</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span>
          <span class="nx">flower</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nx">mouseX</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nx">mouseY</span><span class="p">,</span>
            <span class="nx">dir</span><span class="o">:</span> <span class="nx">dir</span><span class="p">,</span>
            <span class="nx">xSpeed</span><span class="o">:</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">dir</span><span class="p">),</span>
            <span class="nx">ySpeed</span><span class="o">:</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">dir</span><span class="p">),</span>
            <span class="nx">flower</span><span class="o">:</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">flow</span><span class="p">),</span> <span class="c1">//unicode flowers</span>
            <span class="nx">rot</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">poptime</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
            <span class="nx">size</span><span class="o">:</span> <span class="mi">90</span><span class="p">,</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;FA7A79&#39;</span><span class="p">,</span> <span class="s1">&#39;A266AC&#39;</span><span class="p">,</span> <span class="s1">&#39;E38F3D&#39;</span><span class="p">,</span> <span class="s1">&#39;81A63F&#39;</span><span class="p">,</span> <span class="s1">&#39;619CD8&#39;</span><span class="p">][</span><span class="o">~~</span><span class="p">(</span><span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)]</span>
          <span class="p">}</span>
          <span class="nx">flowers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">flower</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">flowers</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">with</span><span class="p">(</span><span class="nx">flowers</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="nx">dir</span> <span class="o">%=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">PI</span>
            <span class="c1">//wall collision in radians</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">70</span> <span class="o">|</span> <span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">cWid</span> <span class="o">-</span> <span class="mi">70</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">xSpeed</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">70</span><span class="p">)</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">70</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">cWid</span> <span class="o">-</span> <span class="mi">70</span><span class="p">)</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">cWid</span> <span class="o">-</span> <span class="mi">70</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="mi">70</span> <span class="o">|</span> <span class="nx">y</span> <span class="o">&gt;</span> <span class="nx">cHi</span> <span class="o">-</span> <span class="mi">70</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">ySpeed</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="mi">70</span><span class="p">)</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">70</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="nx">cHi</span> <span class="o">-</span> <span class="mi">70</span><span class="p">)</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">cHi</span> <span class="o">-</span> <span class="mi">70</span>
            <span class="p">}</span>
            <span class="nx">x</span> <span class="o">+=</span> <span class="nx">xSpeed</span> <span class="o">*</span> <span class="mi">16</span>
            <span class="nx">y</span> <span class="o">+=</span> <span class="nx">ySpeed</span> <span class="o">*</span> <span class="mi">16</span>
            <span class="nx">last</span> <span class="o">=</span> <span class="nx">letter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">x1</span> <span class="o">=</span> <span class="nx">cWid</span> <span class="o">*</span> <span class="nx">last</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
              <span class="nx">y1</span> <span class="o">=</span> <span class="nx">cHi</span> <span class="o">*</span> <span class="nx">last</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
              <span class="nx">x2</span> <span class="o">=</span> <span class="nx">cWid</span> <span class="o">*</span> <span class="nx">letter</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
              <span class="nx">y2</span> <span class="o">=</span> <span class="nx">cHi</span> <span class="o">*</span> <span class="nx">letter</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
              <span class="nx">m</span> <span class="o">=</span> <span class="p">(</span><span class="nx">y1</span> <span class="o">-</span> <span class="nx">y2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="nx">x1</span> <span class="o">-</span> <span class="nx">x2</span><span class="p">)</span>
              <span class="nx">yy</span> <span class="o">=</span> <span class="nx">m</span> <span class="o">*</span> <span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">x1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">y1</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">max</span><span class="p">(</span><span class="nx">x1</span><span class="p">,</span> <span class="nx">x2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">min</span><span class="p">(</span><span class="nx">x1</span><span class="p">,</span> <span class="nx">x2</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">abs</span><span class="p">(</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">yy</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">x</span> <span class="o">-=</span> <span class="nx">xSpeed</span> <span class="o">*</span> <span class="mf">15.9</span>
                  <span class="nx">y</span> <span class="o">-=</span> <span class="nx">ySpeed</span> <span class="o">*</span> <span class="mf">15.9</span>
                  <span class="nx">j</span> <span class="o">=</span> <span class="mi">4</span>
                <span class="p">}</span>
              <span class="p">}</span>
              <span class="nx">last</span> <span class="o">=</span> <span class="nx">letter</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="nx">rot</span> <span class="o">+=</span> <span class="nx">PI</span> <span class="o">/</span> <span class="mi">9</span>
            <span class="nx">poptime</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">flowers</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">150</span> <span class="o">&amp;</span> <span class="nx">poptime</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;</span> <span class="o">&amp;</span> <span class="nx">size</span> <span class="o">&amp;</span> <span class="o">&amp;</span> <span class="nx">abs</span><span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">mouseX</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">size</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&amp;</span> <span class="nx">abs</span><span class="p">(</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">mouseY</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">size</span> <span class="o">*=</span> <span class="p">.</span><span class="mi">9</span>
              <span class="nx">poptime</span> <span class="o">=</span> <span class="mi">30</span>
              <span class="nx">dir</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span>
              <span class="nx">xSpeed</span> <span class="o">=</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">dir</span><span class="p">)</span>
              <span class="nx">ySpeed</span> <span class="o">=</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">dir</span><span class="p">)</span>
              <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">dd</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span>
                <span class="nx">xx</span> <span class="o">=</span> <span class="nx">mouseX</span> <span class="o">+</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">dd</span><span class="p">)</span> <span class="o">*</span> <span class="mi">45</span>
                <span class="nx">yy</span> <span class="o">=</span> <span class="nx">mouseY</span> <span class="o">+</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">dd</span><span class="p">)</span> <span class="o">*</span> <span class="mi">45</span>
                <span class="nx">flowers</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
                  <span class="nx">x</span><span class="o">:</span> <span class="nx">xx</span><span class="p">,</span>
                  <span class="nx">y</span><span class="o">:</span> <span class="nx">yy</span><span class="p">,</span>
                  <span class="nx">xSpeed</span><span class="o">:</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">dd</span><span class="p">),</span>
                  <span class="nx">ySpeed</span><span class="o">:</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">dd</span><span class="p">),</span>
                  <span class="nx">dir</span><span class="o">:</span> <span class="nx">dd</span><span class="p">,</span>
                  <span class="nx">flower</span><span class="o">:</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">27</span> <span class="o">+</span> <span class="mi">10025</span><span class="p">),</span> <span class="c1">//unicode flowers</span>
                  <span class="nx">rot</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="nx">poptime</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
                  <span class="nx">size</span><span class="o">:</span> <span class="nx">size</span><span class="p">,</span>
                  <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;FA7A79&#39;</span><span class="p">,</span> <span class="s1">&#39;A266AC&#39;</span><span class="p">,</span> <span class="s1">&#39;E38F3D&#39;</span><span class="p">,</span> <span class="s1">&#39;81A63F&#39;</span><span class="p">,</span> <span class="s1">&#39;619CD8&#39;</span><span class="p">][</span><span class="o">~~</span><span class="p">(</span><span class="nx">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)]</span>
                <span class="p">})</span>
              <span class="p">}</span>
            <span class="p">}</span>
            <span class="c1">//draw rotated flower</span>
            <span class="nx">font</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">+</span> <span class="s1">&#39;px sans&#39;</span>
            <span class="nx">shadowBlur</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
            <span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">color</span>
            <span class="nx">save</span><span class="p">()</span>
            <span class="nx">translate</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span>
            <span class="nx">rotate</span><span class="p">(</span><span class="nx">rot</span><span class="p">)</span>
            <span class="nx">fillText</span><span class="p">(</span><span class="nx">flower</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="nx">restore</span><span class="p">()</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="mi">33</span><span class="p">)</span>
</code></pre></div>
<p>I would like to point out some of the most useful things I used to save bytes in this, namely using the javascript &#39;with&#39; call, along with ~~, &amp;, |. &nbsp;~~ is used to convert a float to an integer, and the binary operators were used to replace the traditional &#39;or&#39; (||) and &#39;and&#39; (&amp;&amp;). The binary operators don&#39;t work in all cases however (from my experience it works with boolean expressions but not &#39;truthy&#39; values (ie, strings or numbers !=0). The real gem in the code however is the rampant use of the &#39;with&#39; call. I make a &nbsp;lot of calls to the canvas context (as well as math operations sin, cos, abs) and also within loops to object properties. I was surprised to find out that you can assign values such as &#39;shadowBlur=3&#39; within a &#39;with&#39; block and have it work out nicely.</p>

<p>Other than that, the only thing worth noting is that if you want to get spinning text (in my case unicode) its easiest (and the only way I got to work) to set the textBaseline=&#39;middle&#39; and textAlign=&#39;center&#39; on the canvas context. This positions the text (nearly) perfectly so that it rotates flawlessly. Without that, you get weird circulating objects (which is what happens to objects that are spun offset from their center).</p>

<p>Finally, after hand minifying my code by renaming variables and moving a few bits of code around accordingly and also shortening &#39;if&#39; blocks with ternary operators, I passed the code first through the <a href="http://closure-compiler.appspot.com/home">google closure compiler service</a>&nbsp;and then through <a href="http://www.iteral.com/jscrush/">JSCrush</a>. This gave me a tidy line of 1023 bytes and concluded my js1k submission.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">_</span><span class="o">=</span><span class="s1">&#39;X=Y=0;D=[];G=[[ 358`16 2`16 [ 351`73 9`73]];onmousemove= b X X;Y Y};K=c.hQZHQ-21;setIn rval(  if(X J=c.wid!ZWid!-21; a) Ma!) i   M=random, xtBasel e=&quot;mikle  xtAlign=&quot;cen r  Color=&quot;#222  6&lt; &amp;2 &amp;$ ,     Xq:Y,N:N,A: $ B:z$) 90  D) D[i] N%=2*PI; &gt;x|x&gt;J A x (x=  x&gt;J x=J- )  &gt;y|y&gt;K B y (y=  y&gt;K y=K- ) x+?6*A;y+?6*B;P=G[0]; j?;4&gt;j;j++)T=J*P[0 V=K*P[1 U=J* [0 W=K* [1 R=(V-W)/(T-U)*(x-T)+V,x&lt;max^&amp;x&gt;m ^ 10&gt; y-R) (x Aq B,j=4 P= ;O+=PI/9;F-?;if(150 0&gt;F H  x-X_&amp; y-Y_ H*= 9;F=30;N ;A= $ B=z$  i=0;10&gt;i;i++)k ,L=X+45*  R=Y+45*z      Lq:R,A:  B:z N:k H }font=H+&quot;px sans&quot;; Blur=3;fillStyle=I;save( transla (xq rota (O fillText(E,0,0 restore()}}},33) ,I:&quot;#&quot;+[&quot;FA7A79@A266AC@E38F3D@81A63F@619CD8&quot;][~~(5* )]}) ,E:Str g.fromCharCode(27* +10025 O:0,F:20,H: =2* *PI -  ( (k  0\. in &gt;D.leng!&amp;     D.push({x: 70 wi!( function( ); ],@, ), &amp;&amp; M() cos for( G[j] abs( =b.page *=-1, &gt; -?5.9* te 3 [ 64 shadow ){!th$(N?=1@ &quot;QeightZ= ner^(T,U)_)&lt;H/2`, kddq,yzs &#39;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">$</span><span class="o">=</span><span class="s1">&#39;zqk`_^ZQ@?$!                                 &#39;</span><span class="p">[</span><span class="nx">Y</span><span class="o">++</span><span class="p">];)</span><span class="kd">with</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">$</span><span class="p">))</span><span class="nx">_</span><span class="o">=</span><span class="nx">join</span><span class="p">(</span><span class="nx">pop</span><span class="p">());</span><span class="nb">eval</span><span class="p">(</span><span class="nx">_</span><span class="p">)</span>
</code></pre></div>
        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            
                <section class="author">
                	<header> <a href=""> <img class="profile" src="/assets/images/profile.png" alt="Zolmeister"></a></header>
                	<article>
                		<!-- Author Name -->
                    	<h4> Zoli Kahan </h4>
                    	<!-- Author Bio -->
                    	<p>
                    		<a target="_blank" href="http://insignia.zolmeister.com">Projects</a> |
                        <a target="_blank" href="https://github.com/Zolmeister">GitHub</a> |
                        <a target="_blank" href="http://clay.io">Clay.io</a>
                    	</p>
                    </article>
                </section>
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=My js1k submission: Flurry&amp;url=http://zolmeister.com/2013/02/my-js1k-submission-flurry.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://zolmeister.com/2013/02/my-js1k-submission-flurry.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://zolmeister.com/2013/02/my-js1k-submission-flurry.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

            
            <section class="disqus">
        	    <div id="disqus_thread"></div>
              <script type="text/javascript">
                  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                  var disqus_shortname = 'zolmeister'; // required: replace example with your forum shortname

                  /* * * DON'T EDIT BELOW THIS LINE * * */
                  (function() {
                      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
              </script>

            </section>
            

        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="feeds/posts/default"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="">Zolmeister</a> &copy;  &bull; All rights reserved.</section>
        </div>
    </footer>


    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-30570115-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
